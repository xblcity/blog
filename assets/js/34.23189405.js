(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{556:function(t,s,e){"use strict";e.r(s);var a=e(48),r=Object(a.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"mysql-使用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mysql-使用"}},[t._v("#")]),t._v(" mysql 使用")]),t._v(" "),e("p",[t._v("本文主要记录window10系统下，mysql安装及服务开启，基本命令操作数据库等")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#mySQL%E7%9A%84%E5%AE%89%E8%A3%85"}},[t._v("mySQL 的安装")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#window%E4%B8%8B%E5%91%BD%E4%BB%A4%E8%A1%8C%E6%93%8D%E4%BD%9C"}},[t._v("window 下命令行操作")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#workbench"}},[t._v("安装workbench")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#%E4%BD%BF%E7%94%A8ORM"}},[t._v("使用 ORM")])])]),t._v(" "),e("h2",{attrs:{id:"mysql-的安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mysql-的安装"}},[t._v("#")]),t._v(" mySQL 的安装")]),t._v(" "),e("h3",{attrs:{id:"mysql-5-8-版本的安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mysql-5-8-版本的安装"}},[t._v("#")]),t._v(" mySQL@5 @8 版本的安装")]),t._v(" "),e("p",[t._v("操作系统："),e("em",[t._v("window10 64 位")]),t._v(" "),e("em",[t._v("mySQL@8.0.18zip 压缩版")])]),t._v(" "),e("ol",[e("li",[e("p",[t._v("下载"),e("a",{attrs:{href:"https://dev.mysql.com/downloads/mysql/",target:"_blank",rel:"noopener noreferrer"}},[t._v("地址"),e("OutboundLink")],1),t._v("，建议下载zip压缩包，解压至纯英文目录(不fq下载速度很慢)，笔者把它解压路径"),e("code",[t._v("C:\\Program Files\\mysql-8.0.19-winx64")])])]),t._v(" "),e("li",[e("p",[t._v("初始化并获取临时访问密码")])])]),t._v(" "),e("p",[t._v("以管理员身份运行"),e("code",[t._v("powershell")]),t._v("，")]),t._v(" "),e("p",[t._v("然后输入命令"),e("code",[t._v('cd "C:\\Program Files\\mysql-8.0.19-winx64\\bin"')])]),t._v(" "),e("p",[t._v("输入"),e("code",[t._v(".\\mysqld --initialize --user=mysql --console")]),t._v("。 运行之后，会看最末尾"),e("code",[t._v("A temporary password is generated for root@localhost: uewEtCClu8.K")]),t._v(" 保存得到的临时密码，上例是 "),e("code",[t._v("uewEtCClu8.K")]),t._v("。")]),t._v(" "),e("blockquote",[e("p",[t._v("笔者在Server2016 中出现错误 提示计算机丢失vcruntime140.dll vcruntime140_1.dll msvcp140.dll\n网上搜一下上面三个文件并下载，把文件分别粘贴至 C:\\Windows\\SysWOW64  C:\\Windows\\System32 两个文件夹下\n接着安装 Microsoft Visual C ++ 2015 Redistributable 就可以了~~~~~~~~")])]),t._v(" "),e("ol",{attrs:{start:"3"}},[e("li",[t._v("将 mySQL 安装为服务。")])]),t._v(" "),e("p",[t._v("仍然以管理员身份在bin目录下进行powershell命令操作。")]),t._v(" "),e("p",[t._v("输入命令 "),e("code",[t._v(".\\mysqld --install MySQL")]),t._v("。回车即可提示服务安装成功。")]),t._v(" "),e("ol",{attrs:{start:"4"}},[e("li",[t._v("安装服务成功后启动服务并连接数据库修改密码(在 bin 目录下操作)")])]),t._v(" "),e("ul",[e("li",[e("p",[t._v("启动服务，命令行输入"),e("code",[t._v("net start MySQL")]),t._v(" 。")])]),t._v(" "),e("li",[e("p",[t._v("连接数据库 "),e("code",[t._v(".\\mysql -u root -p")]),t._v(" "),e("code",[t._v("u")]),t._v(" 代表 "),e("code",[t._v("user")]),t._v(" "),e("code",[t._v("p")]),t._v(" 代表 "),e("code",[t._v("password")])])]),t._v(" "),e("li",[e("p",[t._v("提示要输入密码。Enter password: xxx(输入安装时系统给的默认密码)")])]),t._v(" "),e("li",[e("p",[t._v("数据库连接成功，查看数据库 "),e("code",[t._v("show databases;")]),t._v(" 注意要加分号")])]),t._v(" "),e("li",[e("p",[t._v("这时系统提示"),e("strong",[t._v("必须要重新设置密码")])])]),t._v(" "),e("li",[e("p",[t._v("输入命令 "),e("code",[t._v("set password for root@localhost = '123456';")])])]),t._v(" "),e("li",[e("p",[t._v("再次输入"),e("code",[t._v("show databases;")]),t._v(" 查看数据库, 默认有四个数据库，分别是"),e("code",[t._v("information_schema mysql performance_schema sys")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("exit;")]),t._v(" 退出数据库")])]),t._v(" "),e("li",[e("p",[t._v("再次执行"),e("code",[t._v(".\\mysql -u root -p")]),t._v(" 验证新密码正确与否")])])]),t._v(" "),e("h3",{attrs:{id:"卸载"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#卸载"}},[t._v("#")]),t._v(" 卸载")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("sc delete MySQL")]),t._v(" 卸载服务")]),t._v(" "),e("li",[e("code",[t._v("net start MySQL")]),t._v(" 启动服务(需要有管理员权限,在任意位置执行命令行)")]),t._v(" "),e("li",[e("code",[t._v("net stop MySQL")]),t._v(" 关闭服务(需要有管理员权限,在任意位置执行命令行)")])]),t._v(" "),e("h2",{attrs:{id:"window-下命令行操作"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#window-下命令行操作"}},[t._v("#")]),t._v(" window 下命令行操作")]),t._v(" "),e("ul",[e("li",[t._v("进入 bin 目录，连接数据库(要先启动服务) "),e("code",[t._v("mysql -u root -p")])]),t._v(" "),e("li",[t._v("输入"),e("code",[t._v("help;")]),t._v("查询所有命令")])]),t._v(" "),e("p",[e("strong",[t._v("注意：命令都要以分号结尾，不可省略")])]),t._v(" "),e("p",[t._v("新建数据库及建表：")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("show databases"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 查看所有数据库")]),t._v("\ncreate database demo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 创建demo数据库")]),t._v("\nuse demo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 使用demo数据库")]),t._v("\nshow tables"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 查看demo数据库下的表格集合")]),t._v("\ncreate table "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("users")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id int"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("char")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" age int"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" gender int"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 创建users数据表格，设置关键值及数据类型")]),t._v("\nshow tables"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//查看表格集合")]),t._v("\ndesc users"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 查看users表格结构")]),t._v("\nselect "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" from users  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 查看表格内所有信息")]),t._v("\n")])])]),e("p",[t._v("删除数据库及数据(接上面)：")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("drop table users"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 删除users这个表格集合")]),t._v("\nshow tables"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 查看当前数据库所有表")]),t._v("\ndrop database demo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 删除demo数据库")]),t._v("\n")])])]),e("h2",{attrs:{id:"安装workbench"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装workbench"}},[t._v("#")]),t._v(" 安装workbench")]),t._v(" "),e("p",[t._v("命令行操作有一定局限性，且不是很直观，这里可以安装"),e("code",[t._v("workbench")]),t._v("这个mysql可视化工具。"),e("a",{attrs:{href:"https://dev.mysql.com/downloads/workbench/",target:"_blank",rel:"noopener noreferrer"}},[t._v("下载地址"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("按照常规软件选择目录，下一步-下一步即可。")]),t._v(" "),e("p",[t._v("打开界面 "),e("code",[t._v("MySQL Connection")]),t._v("后面"),e("code",[t._v("+")]),t._v("号按照提示，输入"),e("code",[t._v("Connection Name")]),t._v(" "),e("code",[t._v("UserName")]),t._v(" "),e("code",[t._v("Password")]),t._v("即可")]),t._v(" "),e("p",[t._v("之后页面会多出一个连接，点击连接即可，就可以在里面创数据库啦，比如"),e("code",[t._v("create database test; use test;")]),t._v("(要刷新才能看见)")]),t._v(" "),e("h2",{attrs:{id:"使用-orm"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用-orm"}},[t._v("#")]),t._v(" 使用 ORM")]),t._v(" "),e("p",[e("code",[t._v("ORM")]),t._v("全称 "),e("code",[t._v("Object Relational Mapping")]),t._v(" 即对象关系映射。作用是在关系型数据库和对象之间做一个映射。这样，我们在具体的操作数据库的时候，就不需要再去和复杂的 SQL 语句打交道，只要像平时操作对象一样操作它就可以了 。")]),t._v(" "),e("p",[t._v("这里使用的是"),e("code",[t._v("typeorm")]),t._v("，可以在 node 中"),e("strong",[t._v("使用操作对象的语法来实现 mysql 创建表与查询的操作")])]),t._v(" "),e("p",[e("a",{attrs:{href:"https://typeorm.io/#/",target:"_blank",rel:"noopener noreferrer"}},[t._v("typeorm 官方文档"),e("OutboundLink")],1)]),t._v(" "),e("h2",{attrs:{id:"参考"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[t._v("#")]),t._v(" 参考")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://www.jianshu.com/p/ee5ecc310e23",target:"_blank",rel:"noopener noreferrer"}},[t._v("使用TypeORM和MySQL"),e("OutboundLink")],1)])])])}),[],!1,null,null,null);s.default=r.exports}}]);