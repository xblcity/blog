(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{444:function(t,s){t.exports="data:image/png;base64,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"},445:function(t,s,a){t.exports=a.p+"assets/img/copy2.fa6a041e.png"},446:function(t,s,a){t.exports=a.p+"assets/img/copy3.800f03a1.png"},496:function(t,s,a){"use strict";a.r(s);var n=a(35),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"赋值与深浅拷贝"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#赋值与深浅拷贝"}},[t._v("#")]),t._v(" 赋值与深浅拷贝")]),t._v(" "),n("p",[t._v("在 JS 中，我们会频繁的使用对象这种引用类型的数据，操作不当可能会发生意料之外的情况。")]),t._v(" "),n("p",[t._v("在 JS 中，数据类型分为值类型和引用类型。其中值类型包括："),n("code",[t._v("'string', 'number', 'bool', 'undefined', 'null', 'symbol', 'bigint'")]),t._v("这 7 个。要注意的是，这几个单词需要加上引号才是关键字，所以使用"),n("code",[t._v("typeof")]),t._v("返回的是字符串关键字，比如"),n("code",[t._v("typeof 2")]),t._v(" 返回的是"),n("code",[t._v("'number'")])]),t._v(" "),n("p",[t._v("引用类型包括"),n("code",[t._v("Object")]),t._v("类型，"),n("code",[t._v("Object")]),t._v("和字符串"),n("code",[t._v("'object'")]),t._v("都是关键字，"),n("code",[t._v("Object")]),t._v("类型引申出来的常用的还有 "),n("code",[t._v("Array")]),t._v(", "),n("code",[t._v("Function")]),t._v("等。比如，当我们使用"),n("code",[t._v("function foo() {}; foo instanceof Object")]),t._v("返回为"),n("code",[t._v("true")]),t._v("。"),n("code",[t._v("instanceof")]),t._v("实现的原理是构造函数的原型链，即对"),n("code",[t._v("prototype")]),t._v("的查找")]),t._v(" "),n("p",[t._v("通常，当我们对值类型进行赋值时，内存会给该值分配一个地址空间，以下图为例")]),t._v(" "),n("p",[n("img",{attrs:{src:a(444),alt:"值类型赋值"}})]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" a "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 计算机内栈结构开辟出一个新的地址#001，该地址存储的值为1")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" b "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 计算机内栈结构开辟出一个新的地址#002，该地址存储的值为2")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" c "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" b "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 计算机内栈结构开辟出一个新的地址#003，该地址存储的值与地址#002存的值一样，都是2")]),t._v("\n\nc "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 对地址#003存储的值进行更改，改为3，这并不会影响#002地址所存储的值，即c与b值得变化互相不会影响")]),t._v("\n")])])]),n("p",[t._v("那么，引用类型赋值时怎么回事呢？以下图为例")]),t._v(" "),n("p",[n("img",{attrs:{src:a(445),alt:"引用类型赋值"}})]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" a "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" name"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'jack'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" age"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("17")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 计算机内堆结构开辟出一个新地址#301，用于存放 {name: 'jack', age: 17}。紧接着，栈结构开辟出一个新地址#001，该地址存放a变量，同时，#001指向#301这个堆地址")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" b "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" name"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'lucy'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" age"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("19")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 计算机内堆结构开辟出一个新地址#302，用于存放 {name: 'lucy', age: 19}。紧接着，栈结构开辟出一个新地址#002，该地址存放b变量，同时，#002指向#302这个堆地址")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" c "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" b "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 栈结构开辟出一个新地址#003，该地址存放c变量，同时，#003指向#302这个堆地址，也就是说#002与#003指向的是同一个堆地址")]),t._v("\n\nc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'lily'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 编译器找到c #003指向的#302这个堆地址存放的数据，并更改它")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 显而易见，由于c和b指向的是同一个堆地址，所以b也会受到影响，但这大多数时候并不是我们想要的结果")]),t._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("b"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 'lily'")]),t._v("\n")])])]),n("p",[t._v("可以看出，当我们把一个声明 b 的对象值赋值给另外一个声明 c 时，这两个声明用的其实是同一个对象引用，那么，如何避免这种情况呢？")]),t._v(" "),n("p",[t._v("显然，需要把 b 的堆对象在重新复制一遍产生新的堆对象地址，并且使 c 指向这个新的堆对象地址。")]),t._v(" "),n("blockquote",[n("p",[t._v("最常见的情况，比如，事件绑定的回调函数，我们使用addEventListener和removeEventListener传递的必须是同一个引用才能移除事件。\n在使用 React 的过程中，由于组件的重新渲染，组件内部的事件回调函数在经过另一次渲染过后和之前的函数已经不是同一个引用了，即引用地址发生了变化，Component 解决方法是将该函数声明在 constructor 中，Hooks 解决办法是使用 const定义事件回调或者用 useMemo/useCallback")])]),t._v(" "),n("h2",{attrs:{id:"实现浅拷贝"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#实现浅拷贝"}},[t._v("#")]),t._v(" 实现浅拷贝")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" b "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" name"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'lucy'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" age"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("19")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" c "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("b "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("上述代码实现了一个简单的浅拷贝，"),n("code",[t._v("...")]),t._v("是展开运算符，应用的是 "),n("code",[t._v("for-of")]),t._v(" 语法，"),n("code",[t._v("for-of")]),t._v("调用的是内置的"),n("code",[t._v("Symbol['iterator']")]),t._v("本质上还是对 "),n("code",[t._v("b")]),t._v(" 对象进行遍历。")]),t._v(" "),n("p",[t._v("实现一个浅拷贝函数")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("mixin")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("receiver"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" supplier")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  Object"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("keys")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("supplier"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("forEach")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("key")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    receiver"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("key"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" supplier"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("key"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" receiver\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("blockquote",[n("p",[t._v("浅拷贝的使用场景，比如 react-redux，当我们在对 redux state 进行更改时，不应该直接改变 state 状态，而是返回一个新的状态，通常我们会用展开运算符...或者 Object.assign 对原数据进行浅拷贝")])]),t._v(" "),n("p",[t._v("浅拷贝的缺点也很明显，如下图")]),t._v(" "),n("p",[n("img",{attrs:{src:a(446),alt:"浅拷贝"}})]),t._v(" "),n("p",[t._v("当浅拷贝的对象的 "),n("code",[t._v("key")]),t._v(" 对应的 "),n("code",[t._v("value")]),t._v(" 也是个引用类型的值时，无法进行正确的拷贝，拷贝的还是 "),n("code",[t._v("value")]),t._v(" 对应的地址。")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" a "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  name"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'jack'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  info"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    gender"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'male'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    age"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("19")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" b "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("a "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nb"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("info"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("gender "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'female'")]),t._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("info"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("gender"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 输入 female，说明a info属性值也被修改了")]),t._v("\n")])])]),n("p",[t._v("这个时候可能就需要用到深拷贝了，深拷贝之前，我们再说一下其他的几种浅拷贝，比如")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("Object"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("assign")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" obj "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  username"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'kobe'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" obj2 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Object"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("assign")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" obj"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 数组中还有：")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Array")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("slice")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Array")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("concat")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" arr "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" arr2 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" arr"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("concat")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" arr3 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" arr"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("slice")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("h2",{attrs:{id:"实现深拷贝"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#实现深拷贝"}},[t._v("#")]),t._v(" 实现深拷贝")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" newObj "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("parse")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("stringify")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("oldObj"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("p",[t._v("原理： 用 JSON.stringify 将对象转成 JSON 字符串，再用 JSON.parse()把字符串解析成对象，一去一来，新的对象产生了，而且对象会开辟新的栈，实现深拷贝。")]),t._v(" "),n("p",[t._v("缺陷，对于引用类型以及循环引用的克隆存在问题：")]),t._v(" "),n("ul",[n("li",[t._v("无法实现对函数 、RegExp 等特殊对象的克隆(JSON.stringify() 方法是将一个 JavaScript 值(对象或者数组)转换为一个 JSON 字符串，不能接受函数)")]),t._v(" "),n("li",[t._v("还有其他一些问题...")])]),t._v(" "),n("p",[t._v("这里实现一个简易的深拷贝，递归方法实现深度克隆原理：遍历对象、数组直到里边都是基本数据类型，然后再去复制，就是深度拷贝")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 检测数据类型")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("checkType")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("target")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// "[object String]" 截取为 String')]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("toString")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("call")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("target"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("slice")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// -1 会被看做 strLength - 1")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("clone")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("target")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" result"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    targetType "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("checkType")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("target"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("targetType "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Object'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    result "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("targetType "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Array'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    result "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" target\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 对数组以及对象数据 遍历")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" i "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" target"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 遍历数据结构中的每一个key")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" value "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" target"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("checkType")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Object'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("checkType")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Array'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 对象的属性值仍然是数组或者对象，进入递归")]),t._v("\n      result"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("clone")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      result"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" value\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" result\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 测试")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" cc "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  name"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'xbl'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  info"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    age"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("17")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    desc"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      gender"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'male'")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" dd "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("clone")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("cc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ndd"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("info"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("desc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("gender "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'female'")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 测试原始数据CC是否发生了改变")]),t._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("cc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("info"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("desc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("gender"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 打印'male'说明深拷贝成功")]),t._v("\n")])])]),n("h2",{attrs:{id:"参考"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[t._v("#")]),t._v(" 参考")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:""}},[t._v("深入浅出 es6")])]),t._v(" "),n("li",[n("a",{attrs:{href:"https://juejin.im/post/5b5dcf8351882519790c9a2e",target:"_blank",rel:"noopener noreferrer"}},[t._v("浅拷贝与深拷贝"),n("OutboundLink")],1)]),t._v(" "),n("li",[t._v("后面的几篇大同小异，可以帮助理解一下")]),t._v(" "),n("li",[n("a",{attrs:{href:"https://juejin.im/post/5d5a8be3f265da03b638ad28",target:"_blank",rel:"noopener noreferrer"}},[t._v("不要再问我 JS Clone 的问题了"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://juejin.im/post/5d235d1ef265da1b855c7b5d",target:"_blank",rel:"noopener noreferrer"}},[t._v("搞不懂 JS 中赋值·浅拷贝·深拷贝的请看这里"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://juejin.im/post/5c26dd8fe51d4570c053e08b",target:"_blank",rel:"noopener noreferrer"}},[t._v("聊聊对象深拷贝和浅拷贝"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://www.cxymsg.com/guide/jsWritten.html#%E6%B7%B1%E5%85%8B%E9%9A%86%EF%BC%88deepclone%EF%BC%89",target:"_blank",rel:"noopener noreferrer"}},[t._v("深克隆"),n("OutboundLink")],1)])])])}),[],!1,null,null,null);s.default=e.exports}}]);